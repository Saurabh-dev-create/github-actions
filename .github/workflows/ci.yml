name: github-actions CI

on:
  push:
    branches: [ "main" ]
  

jobs:

  build:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v4
    - name: Build the Docker image
      run: docker build -t github-actions .
    - name: Docker Login
      run: |
           echo "${{secrets.DOCKERHUB_PASSWORD}}" | docker login \
             -u "${{secrets.DOCKERHUB_USERNAME}}" --password-stdin
    - name: Push to DockerHub
      run: | 
           docker tag github-actions ${{secrets.DOCKERHUB_USERNAME}}/github-actions:latest
           docker push "${{secrets.DOCKERHUB_USERNAME}}"/github-actions:latest
